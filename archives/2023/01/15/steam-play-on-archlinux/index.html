<!doctype html><html lang=ja><script async src="https://www.googletagmanager.com/gtag/js?id=G-Q4NDL34NBB"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-Q4NDL34NBB")</script><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1,user-scalable=yes"><title>Arch Linux で Steam Play ( Proton ) を試す - SHIDALOG</title><meta name=author content="goshida"><meta name=description content="Arch Linux に Steam をインストールした際の作業メモ。"><meta name=generator content="Hugo 0.105.0"><meta property="og:title" content="Arch Linux で Steam Play ( Proton ) を試す"><meta property="og:description" content="Arch Linux に Steam をインストールした際の作業メモ。"><meta property="og:type" content="article"><meta property="og:url" content="https://blog.shida-ws.net/archives/2023/01/15/steam-play-on-archlinux/"><meta property="article:section" content="archives"><meta property="article:published_time" content="2023-01-15T02:09:49+09:00"><meta property="article:modified_time" content="2023-01-15T02:09:49+09:00"><link rel=stylesheet href=https://blog.shida-ws.net/css/style.css><link rel=stylesheet href=https://blog.shida-ws.net/css/custom.css><body><div class=site_container><header class=site_header_container><div class="header_container content_area"><div class=header_body><input type=checkbox class=menu_trigger id=menu_trigger><div class=header_main_container><div class=logo_container><div class=site_logo><a href=https://blog.shida-ws.net/>SHIDALOG</a></div><div class=site_tagline>備忘録的なもの</div></div><div class=menu_button_container><label class="menu_button is_icon icon_menu" for=menu_trigger></label></div></div><div class=menu_container><nav class=site_navigation_container><ul class=navigation_list><li class=navigation_item><a href=/archives/>Archives</a></li><li class=navigation_item><a href=/tags/>Tags</a></li><li class=navigation_item><a href=/about/>About</a></li><li class=navigation_item><a href=/policy/>Policy</a></li></ul></nav><div class=social_container><ul class=social_list><li class=social_item><a class="is_icon icon_github" href=https://github.com/goshida></a></li><li class=social_item><a class="is_icon icon_rss" href=/index.xml></a></li></ul></div></div></div></div></header><div class=site_main_container><div class="single_container content_area"><div class=single_main_container itemscope itemtype=https://schema.org/BlogPosting><main class="article_main_container card"><article class=article_container><header class=article_header><h1 class=article_title itemprop=headline>Arch Linux で Steam Play ( Proton ) を試す</h1></header><section class=article_body itemprop=articleBody><p>Arch Linux に Steam をインストールした際の作業メモ。</p><p>正月に実家に戻っていてやることがあんまりなかったのと、
日本でも最近発売された Steam Deck が ArchLinux ベースの OS かつ互換レイヤー（ Proton ）でゲームを動かしている、
という話も思い出したので自分でも試してみようと思った次第。</p><p>実家に持ち帰っていたノート PC は元々ゲームをやるつもりで買ってなかったが、
Linux の Steam で不自由なくゲームできる感じであれば、
次買い換えるときにゲーム想定したスペックにしても良いかもと思ったのもある。</p><h2 id=事前確認>事前確認</h2><p>ArchWiki に記事があったので参考にした（ホントに何でもあるなと思っている）。</p><ul><li><a href=https://wiki.archlinux.jp/index.php/Steam>Steam - ArchWiki</a></li></ul><p>記事の最初の方に Steam 実行の要件がまとまっている。</p><blockquote><p>multilib リポジトリを有効にして、steam パッケージをインストールします。</p><p>Arch Linux で Steam を実行するには、以下の要件を満たす必要があります。</p><ul><li>32 ビット版の OpenGL graphics driver をインストールします。</li><li>en_US.UTF-8 ロケールを生成して、無効なポインタエラーを防ぎます。</li><li>GUI は Arial フォントを多用しています。MS フォント を参照してください。別の方法は、代替として ttf-liberation や Steam が提供するフォント を使うこともできます。</li><li>アジア言語のサポートを追加するには、wqy-zenhei をインストールしてください。</li><li>ネットワーク管理に systemd-networkd を使用している場合は、Steam がサーバーに接続できるようにするために lib32-systemd をインストールしてください。</li></ul></blockquote><p>自分の環境に照らしてみると</p><ul><li>steam は 32bit 版のみなので multilib リポジトリにあるが、自分のマシンでは multilib リポジトリは有効化してなかったのでまずこれが必要</li><li>32bit版の OpenGL graphics driver （ <code>lib32-mesa</code> ）はインストールしてないのでこれも必要<ul><li>とはいえ <code>steam</code> パッケージの依存関係に入っているので別個作業は要らなかった</li></ul></li><li><code>en_US.UTF-8</code> ロケールは元々 OS インストール時に生成済だったので不要</li><li>Google Chrome の依存関係で <code>ttf-liberation</code> がインストール済だったのでフォントのインストールは不要</li><li>一応日本語にするので <code>wqy-zenhei</code> のインストールは要る</li><li>ネットワーク管理には NetworkManager を使っているので <code>lib32-systemd</code> は不要</li></ul><p>という感じ。</p><h2 id=インストールと設定>インストールと設定</h2><p>実際にインストールと設定作業としてやったことのメモ。</p><h3 id=multilib-の有効化>multilib の有効化</h3><p>今回は Arch Linux の公式リポジトリからインストールするが、
steam が 32bit アプリケーションのため、まず multilib リポジトリを有効化してインストールできるようにする。</p><p>pacman の設定ファイルをこんな感じで修正。</p><div class=highlight><pre tabindex=0 style=color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span>❯ diff -u /etc/pacman.conf.orig /etc/pacman.conf
</span></span><span style=display:flex><span><span style=color:#ffa198;background-color:#490202>--- /etc/pacman.conf.orig	2022-12-24 05:37:01.990854545 +0900
</span></span></span><span style=display:flex><span><span style=color:#ffa198;background-color:#490202></span><span style=color:#56d364;background-color:#0f5323>+++ /etc/pacman.conf	2023-01-14 07:57:55.408805885 +0900
</span></span></span><span style=display:flex><span><span style=color:#56d364;background-color:#0f5323></span><span style=color:#79c0ff>@@ -90,8 +90,8 @@
</span></span></span><span style=display:flex><span><span style=color:#79c0ff></span> #[multilib-testing]
</span></span><span style=display:flex><span> #Include = /etc/pacman.d/mirrorlist
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#ffa198;background-color:#490202>-#[multilib]
</span></span></span><span style=display:flex><span><span style=color:#ffa198;background-color:#490202>-#Include = /etc/pacman.d/mirrorlist
</span></span></span><span style=display:flex><span><span style=color:#ffa198;background-color:#490202></span><span style=color:#56d364;background-color:#0f5323>+[multilib]
</span></span></span><span style=display:flex><span><span style=color:#56d364;background-color:#0f5323>+Include = /etc/pacman.d/mirrorlist
</span></span></span><span style=display:flex><span><span style=color:#56d364;background-color:#0f5323></span> 
</span></span><span style=display:flex><span> # An example of a custom package repository.  See the pacman manpage for
</span></span><span style=display:flex><span> # tips on creating your own repositories.
</span></span></code></pre></div><p>リポジトリ DB を同期する。（自分の環境では AUR のパッケージも色々使ってる関係で <code>pacman</code> じゃなくて <code>yay</code> だが）</p><div class=highlight><pre tabindex=0 style=color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>❯ yay -Sy
</span></span><span style=display:flex><span>:: Synchronizing package databases...
</span></span><span style=display:flex><span> core is up to date
</span></span><span style=display:flex><span> extra                                                  1740.2 KiB  5.43 MiB/s 00:00 <span style=color:#ff7b72;font-weight:700>[</span><span style=color:#8b949e;font-style:italic>################################################] 100%</span>
</span></span><span style=display:flex><span> community                                                 7.2 MiB  13.9 MiB/s 00:01 <span style=color:#ff7b72;font-weight:700>[</span><span style=color:#8b949e;font-style:italic>################################################] 100%</span>
</span></span><span style=display:flex><span> multilib                                                163.4 KiB   <span style=color:#a5d6ff>961</span> KiB/s 00:00 <span style=color:#ff7b72;font-weight:700>[</span><span style=color:#8b949e;font-style:italic>################################################] 100%</span>
</span></span></code></pre></div><h3 id=各種パッケージインストール>各種パッケージインストール</h3><p>必要なものを一式インストールする。</p><p>一式とはいえ、本体である <code>steam</code> パッケージの依存関係にほぼほぼ含まれていたので、
あれこれ指定する必要は無く <code>steam</code> パッケージ以外は日本語化のための <code>wqy-zenhei</code> を指定するくらい。</p><p>インストール中に出てくる Vulkan ドライバーとしてどれを使うかは環境に応じて適宜選ぶ。<br>（今回作業しているマシンは Intel CPU + 内蔵GPUという構成なので <code>vulkan-intel</code> <code>lib32-vulkanintel</code> で進めている）</p><div class=highlight><pre tabindex=0 style=color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>❯ yay -S steam wqy-zenhei
</span></span><span style=display:flex><span>resolving dependencies...
</span></span><span style=display:flex><span>:: There are <span style=color:#a5d6ff>6</span> providers available <span style=color:#ff7b72>for</span> vulkan-driver:
</span></span><span style=display:flex><span>:: Repository extra
</span></span><span style=display:flex><span>   1<span style=color:#ff7b72;font-weight:700>)</span> amdvlk  2<span style=color:#ff7b72;font-weight:700>)</span> nvidia-utils  3<span style=color:#ff7b72;font-weight:700>)</span> vulkan-intel  4<span style=color:#ff7b72;font-weight:700>)</span> vulkan-radeon  5<span style=color:#ff7b72;font-weight:700>)</span> vulkan-swrast  6<span style=color:#ff7b72;font-weight:700>)</span> vulkan-virtio
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Enter a number <span style=color:#ff7b72;font-weight:700>(</span><span style=color:#79c0ff>default</span><span style=color:#ff7b72;font-weight:700>=</span>1<span style=color:#ff7b72;font-weight:700>)</span>: <span style=color:#a5d6ff>3</span>
</span></span><span style=display:flex><span>:: There are <span style=color:#a5d6ff>5</span> providers available <span style=color:#ff7b72>for</span> lib32-vulkan-driver:
</span></span><span style=display:flex><span>:: Repository multilib
</span></span><span style=display:flex><span>   1<span style=color:#ff7b72;font-weight:700>)</span> lib32-amdvlk  2<span style=color:#ff7b72;font-weight:700>)</span> lib32-nvidia-utils  3<span style=color:#ff7b72;font-weight:700>)</span> lib32-vulkan-intel  4<span style=color:#ff7b72;font-weight:700>)</span> lib32-vulkan-radeon  5<span style=color:#ff7b72;font-weight:700>)</span> lib32-vulkan-virtio
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Enter a number <span style=color:#ff7b72;font-weight:700>(</span><span style=color:#79c0ff>default</span><span style=color:#ff7b72;font-weight:700>=</span>1<span style=color:#ff7b72;font-weight:700>)</span>: <span style=color:#a5d6ff>3</span>
</span></span><span style=display:flex><span>looking <span style=color:#ff7b72>for</span> conflicting packages...
</span></span><span style=display:flex><span>warning: dependency cycle detected:
</span></span><span style=display:flex><span>warning: lib32-mesa will be installed before its lib32-libglvnd dependency
</span></span><span style=display:flex><span>warning: dependency cycle detected:
</span></span><span style=display:flex><span>warning: lib32-keyutils will be installed before its lib32-krb5 dependency
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Package <span style=color:#ff7b72;font-weight:700>(</span>72<span style=color:#ff7b72;font-weight:700>)</span>                      New Version              Net Change  Download Size
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>extra/bubblewrap                  0.7.0-1                    0.08 MiB       0.04 MiB
</span></span><span style=display:flex><span>extra/harfbuzz-icu                6.0.0-1                    0.02 MiB       0.01 MiB
</span></span><span style=display:flex><span>extra/hyphen                      2.8.8-5                    0.03 MiB       0.02 MiB
</span></span><span style=display:flex><span>multilib/lib32-alsa-lib           1.2.8-1                    1.10 MiB       0.38 MiB
</span></span><span style=display:flex><span>multilib/lib32-alsa-plugins       1.2.7.1-1                  0.30 MiB       0.07 MiB
</span></span><span style=display:flex><span>multilib/lib32-brotli             1.0.9-5                    0.80 MiB       0.31 MiB
</span></span><span style=display:flex><span>multilib/lib32-bzip2              1.0.8-3                    0.07 MiB       0.03 MiB
</span></span><span style=display:flex><span>multilib/lib32-curl               7.87.0-1                   0.67 MiB       0.29 MiB
</span></span><span style=display:flex><span>multilib/lib32-e2fsprogs          1.46.5-1                   0.56 MiB       0.23 MiB
</span></span><span style=display:flex><span>multilib/lib32-expat              2.5.0-2                    0.18 MiB       0.07 MiB
</span></span><span style=display:flex><span>core/lib32-gcc-libs               12.2.0-1                 107.52 MiB      29.78 MiB
</span></span><span style=display:flex><span>core/lib32-glibc                  2.36-6                    18.01 MiB       3.38 MiB
</span></span><span style=display:flex><span>multilib/lib32-icu                72.1-2                    35.50 MiB      10.31 MiB
</span></span><span style=display:flex><span>multilib/lib32-keyutils           1.6.3-1                    0.02 MiB       0.01 MiB
</span></span><span style=display:flex><span>multilib/lib32-krb5               1.20.1-1                   2.40 MiB       0.83 MiB
</span></span><span style=display:flex><span>multilib/lib32-libcap             2.66-1                     0.07 MiB       0.03 MiB
</span></span><span style=display:flex><span>multilib/lib32-libdrm             2.4.114-1                  0.38 MiB       0.14 MiB
</span></span><span style=display:flex><span>multilib/lib32-libelf             0.188-1                    2.43 MiB       0.55 MiB
</span></span><span style=display:flex><span>multilib/lib32-libffi             3.4.4-1                    0.04 MiB       0.02 MiB
</span></span><span style=display:flex><span>multilib/lib32-libgcrypt          1.10.1-2                   0.98 MiB       0.43 MiB
</span></span><span style=display:flex><span>multilib/lib32-libglvnd           1.6.0-1                    1.33 MiB       0.20 MiB
</span></span><span style=display:flex><span>multilib/lib32-libgpg-error       1.46-1                     0.14 MiB       0.06 MiB
</span></span><span style=display:flex><span>multilib/lib32-libidn2            2.3.4-2                    0.12 MiB       0.05 MiB
</span></span><span style=display:flex><span>multilib/lib32-libldap            2.6.3-3                    0.45 MiB       0.17 MiB
</span></span><span style=display:flex><span>multilib/lib32-libpciaccess       0.17-1                     0.04 MiB       0.02 MiB
</span></span><span style=display:flex><span>multilib/lib32-libpsl             0.21.1-3                   0.07 MiB       0.06 MiB
</span></span><span style=display:flex><span>multilib/lib32-libssh2            1.10.0-2                   0.28 MiB       0.10 MiB
</span></span><span style=display:flex><span>multilib/lib32-libtasn1           4.19.0-1                   0.09 MiB       0.04 MiB
</span></span><span style=display:flex><span>multilib/lib32-libtirpc           1.3.3-2                    0.20 MiB       0.08 MiB
</span></span><span style=display:flex><span>multilib/lib32-libunistring       1.1-1                      1.71 MiB       0.51 MiB
</span></span><span style=display:flex><span>multilib/lib32-libunwind          1.6.2-2                    0.17 MiB       0.05 MiB
</span></span><span style=display:flex><span>multilib/lib32-libx11             1.8.3-1                    1.33 MiB       0.62 MiB
</span></span><span style=display:flex><span>multilib/lib32-libxau             1.0.11-1                   0.01 MiB       0.01 MiB
</span></span><span style=display:flex><span>multilib/lib32-libxcb             1.15-2                     1.01 MiB       0.19 MiB
</span></span><span style=display:flex><span>multilib/lib32-libxcrypt          4.4.33-1                   0.16 MiB       0.07 MiB
</span></span><span style=display:flex><span>multilib/lib32-libxdamage         1.1.6-1                    0.01 MiB       0.01 MiB
</span></span><span style=display:flex><span>multilib/lib32-libxdmcp           1.1.4-1                    0.02 MiB       0.01 MiB
</span></span><span style=display:flex><span>multilib/lib32-libxext            1.3.5-1                    0.08 MiB       0.03 MiB
</span></span><span style=display:flex><span>multilib/lib32-libxfixes          6.0.0-2                    0.02 MiB       0.01 MiB
</span></span><span style=display:flex><span>multilib/lib32-libxml2            2.10.3-2                   1.48 MiB       0.56 MiB
</span></span><span style=display:flex><span>multilib/lib32-libxshmfence       1.3.2-1                    0.01 MiB       0.00 MiB
</span></span><span style=display:flex><span>multilib/lib32-libxss             1.2.3-2                    0.01 MiB       0.01 MiB
</span></span><span style=display:flex><span>multilib/lib32-libxxf86vm         1.1.5-1                    0.02 MiB       0.01 MiB
</span></span><span style=display:flex><span>multilib/lib32-llvm-libs          14.0.6-3                 121.49 MiB      30.60 MiB
</span></span><span style=display:flex><span>multilib/lib32-lm_sensors         1:3.6.0.r41.g31d1f125-2    0.06 MiB       0.02 MiB
</span></span><span style=display:flex><span>multilib/lib32-mesa               22.3.3-1                  67.84 MiB      10.21 MiB
</span></span><span style=display:flex><span>multilib/lib32-ncurses            6.4-1                      0.59 MiB       0.22 MiB
</span></span><span style=display:flex><span>multilib/lib32-nspr               4.35-1                     0.29 MiB       0.11 MiB
</span></span><span style=display:flex><span>multilib/lib32-nss                3.87-1                     3.07 MiB       1.12 MiB
</span></span><span style=display:flex><span>multilib/lib32-openssl            1:3.0.7-1                  4.90 MiB       1.76 MiB
</span></span><span style=display:flex><span>multilib/lib32-p11-kit            0.24.1-1                   2.44 MiB       0.34 MiB
</span></span><span style=display:flex><span>multilib/lib32-pam                1.5.2-1                    0.80 MiB       0.16 MiB
</span></span><span style=display:flex><span>multilib/lib32-sqlite             3.40.1-1                   1.39 MiB       0.65 MiB
</span></span><span style=display:flex><span>multilib/lib32-systemd            252.4-1                    1.95 MiB       0.64 MiB
</span></span><span style=display:flex><span>multilib/lib32-vulkan-icd-loader  1.3.235-1                  0.55 MiB       0.14 MiB
</span></span><span style=display:flex><span>multilib/lib32-vulkan-intel       22.3.3-1                  18.25 MiB       2.94 MiB
</span></span><span style=display:flex><span>multilib/lib32-wayland            1.21.0-1                   0.16 MiB       0.05 MiB
</span></span><span style=display:flex><span>multilib/lib32-xz                 5.4.1-1                    0.22 MiB       0.10 MiB
</span></span><span style=display:flex><span>multilib/lib32-zlib               1.2.13-2                   0.09 MiB       0.05 MiB
</span></span><span style=display:flex><span>multilib/lib32-zstd               1.5.2-1                    0.63 MiB       0.24 MiB
</span></span><span style=display:flex><span>community/libmanette              0.2.6-3                    0.38 MiB       0.05 MiB
</span></span><span style=display:flex><span>extra/libwpe                      1.14.0-1                   0.30 MiB       0.05 MiB
</span></span><span style=display:flex><span>community/lsb-release             2.0.r48.3cf5103-1          0.02 MiB       0.01 MiB
</span></span><span style=display:flex><span>core/usbutils                     015-2                      0.31 MiB       0.09 MiB
</span></span><span style=display:flex><span>extra/vulkan-intel                22.3.3-1                  17.29 MiB       2.80 MiB
</span></span><span style=display:flex><span>extra/webkit2gtk-4.1              2.38.3-1                  82.65 MiB      23.96 MiB
</span></span><span style=display:flex><span>extra/woff2                       1.0.2-4                    0.17 MiB       0.06 MiB
</span></span><span style=display:flex><span>extra/wpebackend-fdo              1.14.0-1                   0.13 MiB       0.04 MiB
</span></span><span style=display:flex><span>extra/xdg-dbus-proxy              0.1.4-1                    0.05 MiB       0.02 MiB
</span></span><span style=display:flex><span>extra/zenity                      3.43.0-1                  10.53 MiB       2.97 MiB
</span></span><span style=display:flex><span>multilib/steam                    1.0.0.75-1                 3.62 MiB       3.43 MiB
</span></span><span style=display:flex><span>community/wqy-zenhei              0.9.45-9                  16.02 MiB       7.54 MiB
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Total Download Size:   140.16 MiB
</span></span><span style=display:flex><span>Total Installed Size:  536.12 MiB
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>:: Proceed with installation? <span style=color:#ff7b72;font-weight:700>[</span>Y/n<span style=color:#ff7b72;font-weight:700>]</span> 
</span></span></code></pre></div><p>ということで依存関係含めると色々あるがインストールする。</p><p>インストールが完了したら <code>/usr/share/applications/</code> にエントリが作成されるので、
各種デスクトップ環境のランチャーから起動できるようになるはず。</p><div class=highlight><pre tabindex=0 style=color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>❯ ls -lh /usr/share/applications/steam.desktop
</span></span><span style=display:flex><span>-rw-r--r-- <span style=color:#a5d6ff>1</span> root root 7.4K Aug <span style=color:#a5d6ff>30</span> 06:12 /usr/share/applications/steam.desktop
</span></span></code></pre></div><p>Xfce の Application Finder の場合</p><figure><a href=/archives/2023/01/15/steam-play-on-archlinux/images/xfce-application-finder.webp target=_self><img src=/archives/2023/01/15/steam-play-on-archlinux/images/xfce-application-finder_hu154009abe9e0af6b140b8c28a259a174_10294_400x400_fit_q75_h2_box_2.webp alt="Xfce の Application Finder の場合"></a></figure><p>で、起動すると Steam クライアントのアップデートチェック等で少し待った後サインイン画面になるので、自分のアカウントでログインする。</p><figure><a href=/archives/2023/01/15/steam-play-on-archlinux/images/steam-signin.webp target=_self><img src=/archives/2023/01/15/steam-play-on-archlinux/images/steam-signin_hu0e8288e71d10c38c0437714668ecc8aa_84316_400x400_fit_q75_h2_box_2.webp alt=起動後のSteamクライアントのサインイン画面></a><figcaption>隠す必要あるのか謎だがQRコードは一応ぼかし</figcaption></figure><p>ということで Steam のインストール作業自体は完了。</p><p>ちなみにアップデートが完了したあたりのタイミングで <code>~/Desktop/</code> にエントリが作成される。
（中身は先に作成されたものと同じ）</p><div class=highlight><pre tabindex=0 style=color:#c9d1d9;background-color:#0d1117;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>❯ ls -lh ~/Desktop/steam.desktop
</span></span><span style=display:flex><span>-rwx--x--x <span style=color:#a5d6ff>1</span> shida shida 7.4K Jan <span style=color:#a5d6ff>14</span> 08:14 /home/shida/Desktop/steam.desktop
</span></span></code></pre></div><h3 id=steam-play-proton-の有効化>Steam Play (Proton) の有効化</h3><p>ここまでで Linux 版 Steam として Linux にネイティブ対応しているゲームはインストールしてプレイできるようになったが、
Linux 非対応のゲームの場合こんな感じで「AVAILABLE FOR WINDOWS」とかになってインストールボタンが無効化されているのでインストールできない。</p><figure><a href=/archives/2023/01/15/steam-play-on-archlinux/images/steam-ikaruga.q90.webp target=_self><img src=/archives/2023/01/15/steam-play-on-archlinux/images/steam-ikaruga.q90_hu83a5d7b6b4d95f097e5a8e5772257544_176818_400x400_fit_q75_h2_box_2.webp alt=ライブラリのLinux非対応のゲーム></a></figure><p>なので Steam Play （ Proton ）を有効化 <sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup> して Linux 非対応のゲームもインストール、起動できるようにする。
有効化は Steam クライアントの設定画面からできる。</p><figure><a href=/archives/2023/01/15/steam-play-on-archlinux/images/steam-settings-steam-play.webp target=_self><img src=/archives/2023/01/15/steam-play-on-archlinux/images/steam-settings-steam-play_hu2b4003a8f56e1a6888c0e89f3ff26d19_77728_400x400_fit_q75_h2_box_2.webp alt="Steam Play (Proton) の有効化"></a></figure><p>上が Steam で検証済のタイトルを実際に Steam Play で動かすかどうか、下が未検証のものも試せるようにするかどうか。今回は両方有効化した。</p><p>未検証のゲームを動かすときに使う Proton のバージョンとしては古いものも含め色々選べるが、基本的には標準版（ <code>Proton x.x-x</code> みたいなやつ）の最新バージョンを選んでおけば良いだろうと思う。
まぁ Proton のバージョン切り替えに時間かかるとかでも無いので、あんまり深く考えず適当に選んで何か不都合でたら切り替えながら試す、くらいで良さそうではあるが。</p><p>Proton は GitHub にリポジトリがあるが、パッチ毎のリリースノートを見ると「個別タイトルの〇〇を修正しました」みたいなこともいろいろ書いてるので、こっちも眺めてみると面白いかもしれない。</p><ul><li><a href=https://github.com/ValveSoftware/Proton/releases>Releases · ValveSoftware/Proton</a></li></ul><p>ここを見た感じ、だいたい数ヶ月くらいの間隔でリリースされているが、
Proton の新しいバージョンが出たときに設定がどうなるのか謎（今の設定が維持されるのか勝手に新しいバージョンになるのか）なので、時々見てみると良いかもしれない。</p><p>互換ツールということでタイトルによって動いたり動かなかったりバグったりするが、個々のタイトルがどの程度動くかは ProtonDB というサイトが参考になる。</p><ul><li><a href=https://www.protondb.com/>ProtonDB | Gaming know-how from the Linux and Steam Deck community</a></li></ul><p>また、 FAQ によると複雑なアンチチートシステムや DRM （コピープロテクトとか）を使ってるゲームは難しいかもとのこと。
競技色の強いオンラインゲームの類や、すごい金のかかったタイトルに関しては上手く動かないケースが多くなるのかもしれない。</p><blockquote><p>引用 : <a href="https://steamcommunity.com/games/221410/announcements/detail/1696055855739350561?snr=">Steam :: Steam for Linux :: Introducing a new version of Steam Play</a></p><p>Q: Are there any games that will never work with Proton?</p><p>It&rsquo;s likely that some games using complex DRM or anti-cheat systems will be difficult, or even impossible to support.</p></blockquote><h3 id=日本語化>日本語化</h3><p>Steam クライアントの日本語化もしておく。</p><p>Steam クライアントでの言語設定は、Steam アカウントの設定や OS のロケールを参照するわけでなく、アプリケーションの設定として持っているらしい。
Steam クライアントメニューバーの <code>Steam</code> > <code>Settings</code> > <code>Interface</code> から設定できる。</p><figure><a href=/archives/2023/01/15/steam-play-on-archlinux/images/steam-settings-interface-language.webp target=_self><img src=/archives/2023/01/15/steam-play-on-archlinux/images/steam-settings-interface-language_huc52ce72044cda6f711a335dced4a9ce5_92056_400x400_fit_q75_h2_box_2.webp alt=Steamクライアントの言語設定></a></figure><p>余談だが、インストール時に日本語化のために入れた <code>wqy-heizen</code> パッケージを削除してみたところ、
日本語化自体はできるが、タスクバー部分の日本語が豆腐になっていた。
そこ以外（クライアント画面とか設定画面とか）は豆腐になってたり文字化けしている部分は見つけられなかったので、
正直無くても困りはしなさそうだったが、必要は必要っぽい。</p><h3 id=スケーリング解像度の無効化>スケーリング解像度の無効化</h3><p>これは使っているモニターに依ると思う <sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> のだが、デフォルトで拡大設定がされていて個人的に見辛い。</p><p>具体的には27インチ4Kのモニターでこんな感じで見える。（Chrome やタスクバーと比較するとかなり拡大されてるのが分かる）</p><figure><a href=/archives/2023/01/15/steam-play-on-archlinux/images/scaling-before.q90.webp target=_self><img src=/archives/2023/01/15/steam-play-on-archlinux/images/scaling-before.q90_huf977763b66875a713e5c44e1420706f4_480414_400x400_fit_q75_h2_box_2.webp alt=スケーリング解像度の無効化前></a></figure><p>この機能も人によっては有効にしておきたい場合もあると思うのだが、個人的には要らないので無効化する。
（拡大したいなら Steam クライアントではなくデスクトップ環境あたりの設定でやると思う）</p><p>これも同じくインターフェースの設定から無効にできる。</p><figure><a href=/archives/2023/01/15/steam-play-on-archlinux/images/steam-settings-interface-scaling.webp target=_self><img src=/archives/2023/01/15/steam-play-on-archlinux/images/steam-settings-interface-scaling_hua28e49634f61080146a45a440a64845e_154608_400x400_fit_q75_h2_box_2.webp alt=Steamクライアントのスケーリング設定></a></figure><p>ここがデフォルトでチェックついているので、チェックを外して Steam クライアントを再起動すると期待した通りになる。</p><figure><a href=/archives/2023/01/15/steam-play-on-archlinux/images/scaling-after.q90.webp target=_self><img src=/archives/2023/01/15/steam-play-on-archlinux/images/scaling-after.q90_hub845e3aa90b8b7a6bf7549dd3bcc05e4_421474_400x400_fit_q75_h2_box_2.webp alt=スケーリング解像度の無効化後></a></figure><h2 id=動かした感じ>動かした感じ</h2><p>怒首領蜂大復活と Little Witch Nobeta を軽く動かした感じ、音がおかしかったり体感できる遅延があったりということも無く普通に動いた。
（今回試したマシンのスペックが i5-7260U +内蔵GPUとかいうゲームを全く想定してないモノだったので Little Witch Nobeta に関してはまぁまぁカクカクだったが）</p><figure><a href=/archives/2023/01/15/steam-play-on-archlinux/images/steam-littlewitchnobeta.q90.webp target=_self><img src=/archives/2023/01/15/steam-play-on-archlinux/images/steam-littlewitchnobeta.q90_hudfd7c0835d43dd18994bff3527e85fc8_518522_400x400_fit_q75_h2_box_2.webp alt="LittleWitchNobeta を動かした様子"></a><figcaption>Steam クライアントの方で「Steam Play を経由してこのコンピュータで実行」と出てるので、 Proton で動いているのが分かる。</figcaption></figure><h2 id=あとがき>あとがき</h2><p>何のゲームだったかは忘れたが10年くらい前に前に Windows 用のゲームを Wine で動かしたことがあって、
その時は結構苦労した記憶があるのだが、それに比べるとインストールから起動まで面倒な設定もなければ特に詰まることもなくスムーズに進んだ。</p><p>プレイに関してもちょっと動かした限りでは不具合も違和感もなく普通に遊べている。
（改めて考えたら Steam Deck みたいなハード出せるくらいなのでそりゃ商品になるくらいの完成度だよな、という気もする）</p><p>という感じで、（自分のPCのスペックがアレだったことを除けば）ほんとに普通にプレイできる感じだったので次ノートPC買う時はある程度ゲーム想定のスペックを検討しようかなと思う。</p><p>また、記事の途中で複雑な DRM やアンチチートシステムを使っていると Proton でも上手く動かないケースが多くなるかもとは書いたが Steam Deck の影響もあってかこういった動きもあるらしい。
将来的にどうなるかはまだ分からないが、上手く行って欲しいと切に思う。</p><ul><li><a href=https://slacknotebook.com/anti-cheat-programs-now-support-proton-linux/>Linux：Easy Anti-CheatとBattlEyeが正式にProton対応へ！！ | SlackNote</a></li></ul><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Steam Play はゲーム側で非対応の OS で互換ツールを使ってプレイ（テスト）できるようにする仕組みで、Proton はその互換ツールの内の一つ、という理解が正しそう。&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>13.3インチのフルHDモニターのノートPCでやったら特に拡大されていなかったので、解像度を認識してよしなにやってるんだろうと思う。&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></section></article></main><aside class=article_aside_container><div class="article_meta_container card"><dl class=article_meta_list><div class="article_meta_item title"><dt class=article_meta_key><span>Title</span></dt><dd class=article_meta_value>Arch Linux で Steam Play ( Proton ) を試す</dd></div><div class="article_meta_item timestamp"><dt class="article_meta_key has_icon icon_calendar"><span>Published</span></dt><dd class=article_meta_value><time class=published_date itemprop=datePublished datetime=2023-01-15T02:09:49+09:00>2023-01-15</time></dd></div><div class="article_meta_item taxonomy"><dt class="article_meta_key has_icon icon_tag"><span>Tags</span></dt><dd class=article_meta_value><ul class=taxonomy_list><li class=taxonomy_list_item><a class=taxonomy_button href=https://blog.shida-ws.net/tags/arch-linux/>Arch Linux</a></li><li class=taxonomy_list_item><a class=taxonomy_button href=https://blog.shida-ws.net/tags/%E3%82%B2%E3%83%BC%E3%83%A0/>ゲーム</a></li><li class=taxonomy_list_item><a class=taxonomy_button href=https://blog.shida-ws.net/tags/steam/>Steam</a></li></ul></dd></div></dl></div><div class="article_toc_container card"><div class=article_toc><div class=toc_header>Table of contents</div><div class=toc_body><nav id=TableOfContents><ul><li><a href=#事前確認>事前確認</a></li><li><a href=#インストールと設定>インストールと設定</a><ul><li><a href=#multilib-の有効化>multilib の有効化</a></li><li><a href=#各種パッケージインストール>各種パッケージインストール</a></li><li><a href=#steam-play-proton-の有効化>Steam Play (Proton) の有効化</a></li><li><a href=#日本語化>日本語化</a></li><li><a href=#スケーリング解像度の無効化>スケーリング解像度の無効化</a></li></ul></li><li><a href=#動かした感じ>動かした感じ</a></li><li><a href=#あとがき>あとがき</a></li></ul></nav></div></div></div></aside></div></div></div><footer class=site_footer_container><div class="footer_container content_area"><div class=footer_body>© 2022 shida.
Generated with <a href=https://gohugo.io/ rel="nofollow noopener" target=_blank>Hugo</a> and
<a href=https://github.com/goshida/hugo-theme/ rel="nofollow noopener" target=_blank>goshida/hugo-theme</a>.</div></div></footer></div></body></html>